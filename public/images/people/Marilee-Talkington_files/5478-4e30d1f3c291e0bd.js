"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5478],{80380:function(e,t,r){r.d(t,{Z:function(){return H}});var i=r(52322),n=r(2784),a=r(54588),o=r(86958),s=r(82453),l=r(51250),d=r(16189);let c="ad-oo",u={setConsentToCookie:(e,t,r)=>{try{let i=(0,l.rZ)(c,r),n=0;if(void 0!==i&&(("number"==typeof i||"string"==typeof i)&&(n=parseInt(i)),n&t&&!e||!(n&t)&&e))return;e||(n|=t);let a=new Date;a.setHours(a.getHours()+36),(0,l.Ys)(c,n.toString(),a,"shared")}catch(r){(0,d.createLogger)()("cookieConsent").error("Failed to set CCBA consent to cookie",{error:r,consent:e,mask:t,operation:"setConsentToCookie",cookieName:c})}}};var f=r(54073),h=r.n(f),p=r(45455),w=r.n(p),g=r(91754),m=r(54172),v=r(22431),y=r(64461),A=r(56044),S=r(113),_=r(95707),b=r(67593),E=r(22873);let I=(e,t)=>{window?.mediaOrchestrator?.publish(e,t)};var k=r(78056),R=r(47401),M=r(98537),L=r.n(M);let C={init:()=>{try{window?.imdb_ad_debug||(window.imdb_ad_debug=C)}catch{}},override:e=>{try{C.init(),L()(C,e)}catch{}},adRefresh:{isPaused:!1,pause:()=>{C.override({adRefresh:{isPaused:!0}})},resume:()=>{C.override({adRefresh:{isPaused:!1}})}},auction:{default:()=>{window.ad_utils?.apsAuctionManager?.forceDefaultRender()},preferAaxAds:()=>{window.ad_utils?.apsAuctionManager?.forceAaxRender()},prefer3pAds:()=>{window.ad_utils?.apsAuctionManager?.forceApsRender()},view3pAdAuditLog:()=>{window.ad_utils?.apsAuctionManager?.viewAuditLog()}}};var O=r(503),P=r(59938),$=r(67246);let j={isReady:!1,hasSetInterval:!1},N=(e,t,r)=>{e.adRefreshInfo&&(e.adRefreshInfo.slotRefreshEligibility=Object.entries(e.adRefreshInfo.slotRefreshEligibility).reduce((e,t)=>{let[r]=t;return{...e,[r]:F(r)}},{}),D(e.adRefreshInfo))&&(document.addEventListener("visibilitychange",x),window.addEventListener("updateAdRefreshStateForSlot",t=>{if(t.detail){let{slotName:r,shouldSlotRefresh:i}=t.detail;Y(r,i,e)}}),j.isReady=!0,window.setInterval(J,1e3*e.adRefreshInfo.intervalInSeconds,e,t,r),j.hasSetInterval=!0,C.override({adRefresh:{tryRefresh:()=>{J(e,t,r,!0)}}}))},x=()=>{"visible"===document.visibilityState?(j.isReady=!0,j.postResponseCallback=void 0):j.postResponseCallback=()=>{j.isReady=!1}},D=e=>!(0,O.oW)()&&!!(!j.hasSetInterval&&e.isEnabled&&e.intervalInSeconds),F=e=>W(e)&&(0,P.Gr)(e)&&!q(e)&&!T(e)&&!z(e),W=e=>!!window?.AdSlots?.[e],T=e=>{let t=window.ad_utils?.get_slot_iframe(e);return!!t?.hasAttribute("data-first-party-creative-template")},q=e=>window.AdSlots?.[e]?.creativeMetadata?.adProductType?.grade===R.rP.PREMIUM,z=e=>{let t=window.ad_utils?.get_slot_iframe(e);return!!t?.hasAttribute("data-native-ad-creative")},J=function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(C.adRefresh?.isPaused&&!i||!j.isReady||(0,E.rm)())){if(e.adFetchingInfo){let i=Object.entries(e.adRefreshInfo?.slotRefreshEligibility??{}).filter(e=>{let[,t]=e;return t}).map(e=>{let[t]=e;return t}),n={webAdsInput:e.adFetchingInfo.params.input,legacySlotSizeMap:e.slotSizeMap??{},apsSlotInfoMap:e.apsSlotInfoMap??{},eligibleSlots:i,isRefreshRequest:!0};(0,b.$)(n,t,r).then(j.postResponseCallback)}else U(e).then(j.postResponseCallback)}},U=e=>{let t=e.clientSideUrl||"",r=e.apsSlotInfoMap||{},i=Object.keys(e.adRefreshInfo?.slotRefreshEligibility||{}).filter(t=>e.adRefreshInfo?.slotRefreshEligibility[t])||[],n=Object.keys(e.slotSizeMap||{}).filter(e=>i.includes(e)).map(t=>({[t]:(e.slotSizeMap||{})[t]})).reduce(V,{}),a=Object.keys(n=B(n)).join(",");if(!(Object.keys(r).length>0))return(0,_._J)(t,a,n,0,{},void 0,void 0);{let e=$.k.getPreviousWindowWidth(),i=(0,k.QH)(a,n,e);return(0,_._J)(t,a,n,0,{},void 0,void 0,r,i)}},B=e=>Object.keys(e||{}).map(t=>({[t+"_refresh"]:(e||{})[t]})).reduce(V,{}),Y=(e,t,r)=>{r&&r.adRefreshInfo&&r.adRefreshInfo.slotRefreshEligibility&&e&&Object.keys(r.adRefreshInfo.slotRefreshEligibility).includes(e)&&(r.adRefreshInfo.slotRefreshEligibility[e]=t)},V=(e,t)=>({...e,...t});var X=r(22862);let G=e=>{let{adSlotsInfo:t}=e;(0,S.WJ)();let r=(0,g.x)(),{context:a}=(0,o.B)(),s=(0,d.createLogger)(a)("AdPageData"),l=()=>{if(!(0,E.rm)()){if(t.adFetchingInfo){let e=$.k.getPreviousWindowWidth(),i={webAdsInput:t.adFetchingInfo.params.input,legacySlotSizeMap:t.slotSizeMap??{},apsSlotInfoMap:t.apsSlotInfoMap??{},eligibleSlots:Object.keys(t.slots??{}),previousWindowWidth:e};(0,b.$)(i,r,s).finally(()=>$.k.setPreviousWindowWidth())}else(0,_.cU)(t).finally(()=>$.k.setPreviousWindowWidth())}},{slotsEnabled:c,clientSideUrlBase:u,adSlots:f,slotSizeMap:p,apsSlotInfoMap:k}=(0,S.OF)(t);n.useEffect(()=>{let e,i;if(c&&!w()(p)&&($.k.setPreviousWindowWidth(),e=h()(l,750),window.addEventListener("resize",e),t?.adRefreshInfo?.isEnabled&&("complete"===document.readyState?N(t,r,s):window.addEventListener("load",()=>N(t,r,s)))),!c||!u||!f.includes(v.A.INLINE20)){let e={type:y.X.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE,slotName:v.A.INLINE20,timestamp:Date.now()},t={type:y.X.EMPTY,slotName:"",timestamp:Date.now()};I(A.x.MEDIA_PLAYBACK_EVENT_NAME,e),I(A.x.NO_PRIMARY_ADS_TO_LOAD_EVENT_NAME,t)}return()=>{e&&window.removeEventListener("resize",e),i&&window.removeEventListener("load",i)}},[]);let R=t?.adFetchingInfo?(0,S.f8)(c??!1,t.adFetchingInfo,f,JSON.stringify(p),JSON.stringify(k??{})):(0,S.sd)(c,u,f,p,k),M=(0,X.Cq)(t);return(0,i.jsxs)(i.Fragment,{children:[M?(0,i.jsx)(m.j,{sisSlotMarkup:M}):null,(0,i.jsx)("script",{async:!0,dangerouslySetInnerHTML:{__html:R}})]})};function H(){let e=(0,o.B)(),{adSlotsInfo:t}=(0,s.Ok)();return e?.context?.sidecar?.ads?.adsCcbaConsent!==void 0&&u.setConsentToCookie(e.context.sidecar?.ads?.adsCcbaConsent,16,e.context?.headers),(0,i.jsx)(a.Z,{name:"IMDbNextAdPageData",children:(0,i.jsx)(G,{adSlotsInfo:t})})}},54172:function(e,t,r){r.d(t,{j:function(){return y}});var i,n,a=r(52322),o=r(2784),s=r(23906),l=r(59938);let d=(0,r(16189).createLogger)()("util_sisPixel_rws");(i=n||(n={})).GRANTED="granted",i.PROMPT="prompt",i.DENIED="denied";let c=new Set().add("fake_treatment_1.1").add("fake_treatment_1.2").add("fake_treatment_1.3").add("fake_control_2"),u=["mousedown","scroll","keydown"],f="https://amazon-adsystem.com",h=async()=>{let e="cookieDeprecationLabel"in navigator,t="requestStorageAccessFor"in document;if(!e||!t)return d.log("Browser not compatible with Related Website Sets",{hasCookieDeprecationLabel:e,hasRequestStorageAccessFor:t}),!1;try{let e=await navigator.cookieDeprecationLabel.getValue();return d.log(`Received cookieDeprecationLabel: ${e}`),c.has(e)}catch(e){return d.error("Issue fetching cookieDeprecationLabel",e),!1}},p=async()=>{let e=await g();switch(d.log(`Received storageAccessPermissionStatus: ${e}`),e){case"granted":return m();case"prompt":return w()}d.log(`'top-level-storage-access' permissions for ${f}: denied`)},w=async()=>{let e;if(!navigator.userActivation)return;let t=new Promise(t=>{e=e=>t(e)}),r=async()=>{navigator.userActivation.isActive&&(u.forEach(e=>{document.removeEventListener(e,r)}),await m(),e(!0))};return u.forEach(e=>{document.addEventListener(e,r)}),t},g=async()=>{try{return(await navigator.permissions.query({name:"top-level-storage-access",requestedOrigin:f})).state}catch(e){d.error("Error querying Storage Access permissions",e);return}},m=async()=>{if("requestStorageAccessFor"in document)try{return await document.requestStorageAccessFor(f),!0}catch(e){d.error("Error requesting storage access",e)}};var v=r(22862);let y=o.memo(e=>{let{sisSlotMarkup:t}=e,[r,i]=(0,o.useState)(!1),n=(0,s.wL)("util_sisSlotMarkup");return(0,o.useEffect)(()=>{(async()=>{if(!await h())return i(!0);await p();let e=(0,v.jD)(t,n);e&&await Promise.all(e.map(e=>(0,v.Lg)(e,n)))})()},[]),r?(0,a.jsx)("div",{ref:l.SK.bind(null,t)}):null})},113:function(e,t,r){r.d(t,{OF:function(){return l},WJ:function(){return a},Wd:function(){return c},a5:function(){return d},f8:function(){return o},sd:function(){return s}});var i=r(83473),n=r(47401);let a=()=>{void 0===window.hasAdAJAXCallFired&&(window.hasAdAJAXCallFired=!1)},o=(e,t,r,n,a)=>{let o=t.endpoint,s=(0,i.S)(t.query),l=JSON.stringify(t.params);return`
        if (window && window.ad_utils && window.ad_utils.makeAdsGraphletCall) {
            window.ad_utils.makeAdsGraphletCall(
                '${o}',
                \`${s}\`,
                ${l},
                '${r}',
                ${n},
                ${a},
                ${e}
            );
    }`},s=(e,t,r,i,n)=>`
        if (window && window.ad_utils && window.ad_utils.makeAdSlotsCall) {
            window.ad_utils.makeAdSlotsCall(
                ${e},
                '${t}',
                '${r}',
                ${JSON.stringify(i)},
                ${n?JSON.stringify(n):"{}"});
    }`,l=e=>({slotsEnabled:!e||e.slotsEnabled,clientSideUrlBase:e?e.clientSideUrl:"",adSlots:e&&e.slots?Object.keys(e.slots).join(","):"",slotSizeMap:e?e.slotSizeMap:{},apsSlotInfoMap:e&&e.apsSlotInfoMap||{}}),d=()=>{window?.lastActualAdMarkup||(window.lastActualAdMarkup={})},c=e=>!e||e?.creativeMetadata?.creativeWidth===0||e?.creativeMetadata?.adProductType?.name===n.A7.BLANK},22862:function(e,t,r){r.d(t,{Cq:function(){return n},Lg:function(){return o},jD:function(){return a}});var i=r(22431);let n=e=>{let t=e?.slots;return t&&t[i.A.SIS_PIXEL]?.slotMarkup},a=(e,t)=>{let r=Array.from(e.matchAll(/el\.src="([^"]*)";/g)).map(e=>e[1]);return r.length||t.error("Failed to retrieve SIS Pixel URL"),r},o=async(e,t)=>{try{return await fetch(e,{method:"GET",credentials:"include"}),!0}catch(e){t.error("Error fetching SIS Pixel",e)}}},73286:function(e,t,r){r.d(t,{W:function(){return n}});var i=r(52322);function n(e){return e&&0!==e.length?(0,i.jsx)(i.Fragment,{children:e.map(e=>(0,i.jsx)("link",{rel:"alternate",href:e.url,hrefLang:e.language},`href_lang_${e.language}`))}):null}r(2784)},52154:function(e,t,r){r.d(t,{F2:function(){return d},gA:function(){return c},y8:function(){return s}});var i=r(86704);let n="FMjpg",a=375/812,o=1920/1080;function s(e,t){return d(e,`${n}_UX${Math.floor(t)}_`)}function l(e,t){return d(e,`${n}_UY${Math.floor(t)}_`)}function d(e,t){let r=e.split("."),i=r.length-2;return r[i].indexOf("_V1_")>=0&&(r[i]+=t),r.join(".")}function c(e,t){let r="";if(!e.height||!e.width||!e.url)return r;let n=e.height,d=e.width,c=e.url,u=Object.values(i.breakpoints.breakpointsNumbers),f=!1;if(u.forEach((e,t)=>{let h=e>d,p=t===u.length-1;if(!f){if(h)r+=s(c,d)+` ${d}w`;else if(n<d)r+=s(c,e)+` ${e}w`;else{let t=d/n,s=e>=i.breakpoints.breakpointsNumbers.m?o:a,u=Math.min(Math.floor(e/t),Math.floor(e/s)),f=Math.floor(u*t);r+=l(c,u)+` ${f}w`}h||p?f=!0:r+=", "}}),t){let e=Math.min(2160,d);n<d?r+=`, ${s(c,e)} ${e}w`:r+=`, ${l(c,n)} ${e}w`}return r}}}]);